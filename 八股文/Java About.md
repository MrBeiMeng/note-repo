**目标：**`梳理java知识，回忆java必备知识点`

**知识点：**`基础语法、面向对象、异常处理、Java虚拟机、多线程、容器`

# **基础语法**



# **面向对象**



# **异常处理**



# **🖥️Java虚拟机**

## 🎛️运行时数据区域

Java 虚拟机在执行Java程序的过程中给会把他管理的内存划分成若干个不同的数据区域。这些区域有不同的用途。

### 🔹程序计数器

程序计数器是一块较小的内存空间，可以看作当前线程所执行的字节码的行号指示器。字节码解释器工作时，通过改变程序计数器的值选取下一条需要执行的字节码指令，分支、循环、跳转、异常处理、线程回复等功能都需要依赖程序计数器来完成。

为了线程切换后能恢复到正确的执行位置，每个线程都需要有独立的程序计数器。由于每个线程的程序计数器时独立存储的，因此各线程之间的程序计数器互不影响，这类内存区域被成为线程私有的内存区域。

程序计数器是唯一不会出现 OutOfMemoryError 的内存区域。

### 🔹Java虚拟机栈

和程序计数器一样，Java虚拟机栈也是线程私有的，他的生命周期与线程相同。

虚拟机栈描述的是Java方法执行的内存模型，每个方法被执行的时候会创建一个栈帧，用于存储局部变量表、操作栈、动态链接、方法出口等信息。一个方法被调用直至执行完成的过程对应一个栈帧在虚拟机中入栈到出栈的过程。

局部变量表存放编译器可知的基数据类型、对象引用类型和返回地址类型。

Java虚拟机栈会出现两种异常。

- 如果虚拟机栈不可以动态扩展，当线程请求的栈深度大于虚拟机所允许的深度时，将抛出**StackOverflowError**异常；//todo
- 如果虚拟机栈可以动态扩展，当无法申请到足够的内存时，将抛出 **OutOfMemoryError**异常。// todo 

### 🔹本地方法栈

本地方法栈和虚拟机栈的作用相似。区别在于，虚拟机栈为虚拟机执行Java方法服务，本地方法栈为虚拟机提供使用到的本地方法服务。有的虚拟机（如HotSpot虚拟机）将本地方法栈和虚拟机栈合二为一。

和虚拟机栈一样，本地方法栈一会出现**StackOverflowError**和**OutOfMemoryError**两种异常。

### 🔹Java堆

对于大多数应用程序而言，Java堆时Java虚拟机管理的内存中最大的一块。Java堆是被所有线程共享的内存区域，其目的是存放对象实例，几乎所有的对象实例都在堆中分配内存。

Java堆是垃圾回收器管理的主要内存，因此也称为GC堆(Garbage Collected Heap)。从垃圾回收的角度，由于现代编辑器基本采用分代垃圾回收算法，所以 Java 堆还可以分成新生代和老年代，新生代又可以细分成 Eden 区、From Survivor 区、To Survivor 区等。细分成多个空间的目的是更好地回收内存或者更快地分配内存。

### 🔹方法区

和Java堆一样，方法区也是被所有线程共享的内存区域。方法区用于存储已经被虚拟机加载的类信息、常量、静态变量、即时编译后的代码等数据。

当方法区无法满足内存分配需求时，将抛出 OutOfMemoryError 异常。

JDK 1.8 将方法区彻底转移，取而代之的是元空间，元空间使用的是直接内存。

### 🔹运行时常量池

运行时常量池是方法区的一部分。Class 文件中除了有类的版本、字段、方法、接口等描述信息外，还有常量池信息，用于存放编译器生成的字面量和符号引用，这些信息将在类加载后存放到方法区的运行时常量池中。

运行时常量池也受到方法区内存的限制，当常量池无法再申请到内存时将抛出 OutOfMemoryError 异常。

### **🔹直接内存**

直接内存不是虚拟机运行时数据区域的一部分，也不是虚拟机规范中定义的内存区域，但是这部分也被频繁地使用，而且也可能导致 OutOfMemoryError 异常出现。

本机直接内存的分配不受到 Java 堆大小的限制，但是直接内存仍然受到本机总内存地大小及处理器寻址空间的限制。如果各个内存区域的总和大于物理内存限制，就会导致动态扩展时出现 OutOfMemoryError 异常。



**习题**(答案在源码里)

<p alt="
程序计数器是唯一不会出现 OutOfMemoryError 的内存区域。
        ">1.哪一块内存区域不会出现OutOfMemoryError?</p>

<p alt="
虚拟机栈描述的是 Java 方法执行的内存模型。当一个方法被执行时会创建栈帧存入栈内，栈帧用于存储局部变量表、操作栈、动态链接、方法出口等信息。
        ">2.虚拟机栈描述的是什么？存放什么内容？</p>

<p alt="
虚拟机栈可能出现的两种异常是 StackOverflowError 和 OutOfMemoryError。
🔹如果虚拟机栈不可以动态扩展，当线程请求的栈深度大于虚拟机所允许的深度时，将抛出 StackOverflowError 异常；
🔹如果虚拟机栈可以动态扩展，当无法申请到足够的内存时，将抛出 OutOfMemoryError 异常。
        ">3.虚拟机栈可能出现哪两种异常，分别在什么情况下出现？</p>

<p alt="
堆是 Java 虚拟机管理的内存中最大的一块，其目的是存放对象实例，几乎所有的对象实例都在堆中分配内存。
        ">4.堆的特点是什么？存放什么内容？</p>

<p alt="
静态变量存放在方法区。
        ">5.静态变量存放在哪一块内存区域？</p>

<hr  style="background:#ffd04c;margin: 0 60px">
## 🚬垃圾回收

### 🐛todo

<hr style="background:#9cc6ff"></hr>

# **多线程**



# **容器**






